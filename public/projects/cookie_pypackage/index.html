<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --accent-color: #FF4D4D;
        }
    </style>

    
    
    
    
    
    

    
    <title>Cookie Pypackage</title>
    <meta name="description" content="    Software Engineer.
    Python | Go | ML
  ">
    <meta name="keywords" content=''>

    <meta property="og:url" content="https://followtheprocess.github.io/projects/cookie_pypackage/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Cookie Pypackage">
    <meta property="og:description" content="    Software Engineer.
    Python | Go | ML
  ">
    <meta property="og:image" content="/images/profile.jpg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Cookie Pypackage">
    <meta name="twitter:description" content="    Software Engineer.
    Python | Go | ML
  ">
    <meta property="twitter:domain" content="https://followtheprocess.github.io/projects/cookie_pypackage/">
    <meta property="twitter:url" content="https://followtheprocess.github.io/projects/cookie_pypackage/">
    <meta name="twitter:image" content="/images/profile.jpg">

    
    <link rel="canonical" href="https://followtheprocess.github.io/projects/cookie_pypackage/" />

    <link rel="stylesheet" type="text/css" href="/css/normalize.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link disabled id="dark-theme" rel="stylesheet" href="/css/dark.css">

    <script src="/js/svg-injector.min.js"></script>
    <script src="/js/feather-icons.min.js"></script>
    <script src="/js/main.js"></script>

    
    
        <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css" integrity="sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js" integrity="sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
        onload="renderMathInElement(document.body,);"></script>
  
    
</head>
<body>
        <script type="text/javascript">
            
            setThemeByUserPref();
        </script><header class="header">
    <nav class="header-nav">

        
        <div class="avatar">
            <a href="https://followtheprocess.github.io">
                <img src="/images/profile.jpg" alt="avatar" />
            </a>
        </div>
        

        <div class="nav-title">
            <a class="nav-brand" href="https://followtheprocess.github.io">@FollowTheProcess</a>
        </div>

        <div class="nav-links">
            
            <div class="nav-link">
                <a href="/"> Home </a>
            </div>
            
            <div class="nav-link">
                <a href="/posts/"> Posts </a>
            </div>
            
            <div class="nav-link">
                <a href="/projects/"> Projects </a>
            </div>
            
            <div class="nav-link">
                <a href="https://followtheprocess.github.io/cv/"> CV </a>
            </div>
            
            <div class="nav-link">
                <a href="https://github.com/FollowTheProcess/"><span data-feather='github'></span>  </a>
            </div>
            
            <div class="nav-link">
                <a href="https://twitter.com/FollowTheProc"><span data-feather='twitter'></span>  </a>
            </div>
            

            <span class="nav-icons-divider"></span>
            <div class="nav-link dark-theme-toggle">
                <a>
                    <span id="theme-toggle-icon" data-feather="moon"></span>
                </a>
            </div>

            <div class="nav-link" id="hamburger-menu-toggle">
                <a>
                    <span data-feather="menu"></span>
                </a>
            </div>

            
            <ul class="nav-hamburger-list visibility-hidden">
                
                <li class="nav-item">
                    <a href="/"> Home </a>
                </li>
                
                <li class="nav-item">
                    <a href="/posts/"> Posts </a>
                </li>
                
                <li class="nav-item">
                    <a href="/projects/"> Projects </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://followtheprocess.github.io/cv/"> CV </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://github.com/FollowTheProcess/"><span data-feather='github'></span>  </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://twitter.com/FollowTheProc"><span data-feather='twitter'></span>  </a>
                </li>
                
                <li class="nav-item dark-theme-toggle">
                    <a>
                        <span id="theme-toggle-icon" data-feather="moon"></span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>
</header>
<main id="content">
    

    <div class="post container">

    <div class="post-header-section">
        <h1>Cookie Pypackage</h1>
    </div>

    <div class="post-content">
        <p>
            <p><em>A modern python package template, inspired by the <a href="https://github.com/audreyfeldroy/cookiecutter-pypackage">original</a> but with some updates bringing it to the forefront of modern python!</em></p>
<ul>
<li><strong>Source Code</strong>: <a href="https://github.com/FollowTheProcess/cookie_pypackage/">https://github.com/FollowTheProcess/cookie_pypackage</a></li>
</ul>
<h2 id="changes-from-the-original">Changes from the Original</h2>
<ul>
<li>Changed from <a href="https://tox.readthedocs.io/en/latest/">tox</a> to <a href="https://nox.thea.codes/en/stable/">nox</a> for flexible python test automation</li>
<li>Drop support for unittest in favour of <a href="https://docs.pytest.org/en/stable/">pytest</a></li>
<li>Change CI provider from Travis to <a href="https://docs.github.com/en/free-pro-team@latest/actions">GitHub actions</a></li>
<li>Change docs from <a href="https://www.sphinx-doc.org/en/master/">Sphinx</a> to <a href="https://www.mkdocs.org">MkDocs</a></li>
<li>Built in support for static type hinting with <a href="https://mypy.readthedocs.io/en/stable/">mypy</a></li>
<li>Made compliant with PEP 517/518</li>
</ul>
<h2 id="features">Features</h2>
<h3 id="github-actions"><a href="https://docs.github.com/en/free-pro-team@latest/actions">GitHub Actions</a></h3>
<p>The project template comes with a ready to go GitHub Actions configuration file which automates all your code quality checks:</p>
<ul>
<li>Testing with pytest</li>
<li>Linting with <a href="https://flake8.pycqa.org/en/latest/">flake8</a>, <a href="https://pycqa.github.io/isort/">isort</a>, and <a href="https://mypy.readthedocs.io/en/stable/">mypy</a></li>
<li>Formatting with <a href="https://black.readthedocs.io/en/stable/">black</a></li>
</ul>
<h3 id="nox"><a href="https://nox.thea.codes/en/stable/">Nox</a></h3>
<p>Easy automation &amp; flexible testing for python:</p>
<ul>
<li>nox is just like tox, but with easy configuration in a python file</li>
<li>Comes preconfigured to do project maintenance tasks like build and serve docs in one command:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">nox docs -- serve
</code></pre></div><h3 id="mkdocs"><a href="https://www.mkdocs.org">MkDocs</a></h3>
<p>Production ready docs with MkDocs and GitHub Pages. Sphinx has been the go to for python documentation but MkDocs offers easier configuration and documentation in markdown.</p>
<p>Project template comes with configured <code>mkdocs.yml</code> config file for a beautiful theme, all you need to do is add your markdown files and reference them in your nav tree!</p>
<p>Examples of MkDocs sites include <a href="https://fastapi.tiangolo.com">FastAPI</a>, <a href="https://typer.tiangolo.com">Typer</a>, <a href="https://pycqa.github.io/isort/">isort</a> and more!</p>
<p>When you&rsquo;re ready to deploy your documentation, just run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mkdocs gh-deploy
</code></pre></div><p>And your docs will be right there next to your code on <a href="https://pages.github.com">GitHub Pages</a></p>
<p>This also happens when you push a new tag to main as part of a release (see below)!</p>
<h3 id="easy-versioning">Easy Versioning</h3>
<p>Pre-configured version bumping with <a href="https://pypi.org/project/bump2version/">Bump2Version</a>, all you need to do when you&rsquo;re ready for a new version is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">bump2version patch <span style="color:#6272a4"># Possible: patch, minor, major</span>
git push
git push --tags
</code></pre></div><p>There&rsquo;s also a nox session for this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">nox -s release -- patch <span style="color:#6272a4"># Possible: patch, minor, major</span>
</code></pre></div><p>And your new version will be pushed up in a new commit and tag.</p>
<p>You can also choose to automatically release your new version to <a href="https://pypi.org">PyPI</a> if your CI passes by creating a <a href="https://pypi.org/help/#apitoken">PyPI API Token</a> and saving it in a repository secret named <code>PYPI_API_TOKEN</code></p>
<ul>
<li>Don&rsquo;t worry, your package will only be uploaded to PyPI if all other CI actions pass (testing, linting, building docs etc.)</li>
</ul>
<h3 id="github-cli"><a href="https://cli.github.com">GitHub CLI</a></h3>
<p>Option to use the new GitHub CLI to create a GitHub repo for you during project creation. (You&rsquo;ll need to have this already installed)</p>
<h3 id="pep-517518-ready">PEP 517/518 Ready</h3>
<p>PEP 517 &amp; 518 (think <code>pyproject.toml</code>) are on their way to becoming the default. No more <code>requirements.txt</code> <code>requirements_dev.txt</code> <code>requirements_docs.txt</code>. It&rsquo;s all in the <code>setup.cfg</code> and the <code>pyproject.toml</code>. All you need to do now is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pip install .           <span style="color:#6272a4"># Installs your project and its dependencies</span>

pip install .<span style="color:#ff79c6">[</span>dev<span style="color:#ff79c6">]</span>      <span style="color:#6272a4"># Also includes development dependencies e.g. docs, testing</span>

pip install .<span style="color:#ff79c6">[</span>docs<span style="color:#ff79c6">]</span>     <span style="color:#6272a4"># Just the docs stuff</span>

<span style="color:#6272a4"># etc etc.</span>
</code></pre></div><h3 id="github-issue-labelling">GitHub Issue Labelling</h3>
<p>Series of helpful labels that you can use to categorise issues and pull requests. These come in especially handy when combined with the Release Drafter workflow!</p>
<h3 id="automatic-release-drafts">Automatic Release Drafts</h3>
<p>Automatically generate release notes with the <a href="https://github.com/release-drafter/release-drafter">Release Drafter</a> workflow. This uses the labels from issues and pull requests to draft pretty and detailed release notes for your GitHub releases.</p>
<p>This is automatically run when you push a new tag to main.</p>
<h2 id="usage">Usage</h2>
<ul>
<li>Ensure you have cookiecutter installed:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># Mac</span>
brew install cookiecutter

<span style="color:#6272a4"># Linux</span>
apt-get install cookiecutter

<span style="color:#6272a4"># pipx</span>
pipx install cookiecutter
</code></pre></div><ul>
<li>
<p>Navigate to where you keep your projects</p>
</li>
<li>
<p>Call cookiecutter with this template and answer all the questions</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cookiecutter https://github.com/FollowTheProcess/cookie_pypackage.git --checkout v0.4.0
</code></pre></div><ul>
<li>Create a virtual environment, a git repo (if not using the gh cli) and start developing</li>
</ul>
<p>Either do this yourself:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#8be9fd;font-style:italic">cd</span> &lt;name_of_your_project&gt;

python3 -m venv .venv

<span style="color:#6272a4"># Activate the venv, install dependencies and project root</span>
<span style="color:#8be9fd;font-style:italic">source</span> .venv/bin/activate

python3 -m pip install -e .<span style="color:#ff79c6">[</span>dev<span style="color:#ff79c6">]</span> <span style="color:#6272a4"># Tells pip to install all development dependencies too</span>
</code></pre></div><p>Or just let <a href="https://nox.thea.codes/en/stable/">nox</a> do it!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">nox
</code></pre></div><p>If you&rsquo;re running nox for the first time, it will recognise there&rsquo;s no virtual environment yet and go through all the above steps for you! Any future times you run it, it will do all sorts of testing and linting and other goodness!</p>
<ul>
<li>
<p>Make a first commit and set up the github repo (if you didn&rsquo;t use the gh cli)</p>
</li>
<li>
<p>That should be it! from now on everything will be handled automatically. All you need to do is write code, tests and docs! Your code will be style checked, your tests will be run on every push/pull request.</p>
</li>
</ul>

        </p>
    </div>
</div>



        </main><footer class="footer">
    <span>&copy; 2022 Tom Fleet</span>
    <span>
        Made with &#10084;&#65039; using <a target="_blank" href="https://github.com/526avijitgupta/gokarna">Gokarna</a>
    </span>
</footer>
</body>
</html>
