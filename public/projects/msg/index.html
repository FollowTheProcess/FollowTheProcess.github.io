<!DOCTYPE html>
<html lang="en"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --accent-color: #FF4D4D;
        }
    </style>

    
    
    
    
    
    

    
    <title>msg</title>
    <meta name="description" content=" &#x1f680; A lightweight console printing toolkit for Go CLIs.
Source Code: https://github.com/FollowTheProcess/msg
Free software: MIT License
Project …">
    <meta name="keywords" content=''>

    <meta property="og:url" content="http://localhost:1313/projects/msg/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="msg">
    <meta property="og:description" content=" &#x1f680; A lightweight console printing toolkit for Go CLIs.
Source Code: https://github.com/FollowTheProcess/msg
Free software: MIT License
Project …">
    <meta property="og:image" content="http://localhost:1313/images/profile.jpg">
    <meta property="og:image:secure_url" content="http://localhost:1313/images/profile.jpg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="msg">
    <meta name="twitter:description" content=" &#x1f680; A lightweight console printing toolkit for Go CLIs.
Source Code: https://github.com/FollowTheProcess/msg
Free software: MIT License
Project …">
    <meta property="twitter:domain" content="http://localhost:1313/projects/msg/">
    <meta property="twitter:url" content="http://localhost:1313/projects/msg/">
    <meta name="twitter:image" content="http://localhost:1313/images/profile.jpg">

    
    <link rel="canonical" href="http://localhost:1313/projects/msg/">

    
    <link rel="stylesheet" type="text/css" href="/css/normalize.min.css" media="print">

    
    <link rel="stylesheet" type="text/css" href="/css/main.min.css">

    
    <link id="dark-theme" rel="stylesheet" href="/css/dark.min.css">

    
    <script src="/js/bundle.min.9a920d7dabdbad8363b6a0a94e29a9dfebdb7ee64cfcb193a0145e512ef2bdab.js" integrity="sha256-mpINfavbrYNjtqCpTimp3&#43;vbfuZM/LGToBReUS7yvas="></script>

    
    
        <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css" integrity="sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js" integrity="sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
        onload="renderMathInElement(document.body,);"></script>
  
    
</head>
<body>
        <script>
            
            setThemeByUserPref();
        </script><header class="header">
    <nav class="header-nav">

        
        <div class="avatar">
            <a href="http://localhost:1313/">
                <img src='/images/profile.jpg' alt="avatar">
            </a>
        </div>
        

        <div class="nav-title">
            <a class="nav-brand" href="http://localhost:1313/">@FollowTheProcess</a>
        </div>

        <div class="nav-links">
            
            <div class="nav-link">
                <a href="http://localhost:1313/" > Home </a>
            </div>
            
            <div class="nav-link">
                <a href="http://localhost:1313/posts/" > Posts </a>
            </div>
            
            <div class="nav-link">
                <a href="http://localhost:1313/projects/" > Projects </a>
            </div>
            
            <div class="nav-link">
                <a href="https://followtheprocess.github.io/cv/" > CV </a>
            </div>
            
            <div class="nav-link">
                <a href="https://github.com/FollowTheProcess/" ><span data-feather='github'></span>  </a>
            </div>
            

            <span class="nav-icons-divider"></span>
            <div class="nav-link dark-theme-toggle">
                <span class="sr-only dark-theme-toggle-screen-reader-target"></span>
                <a>
                    <span class="theme-toggle-icon" data-feather="moon"></span>
                </a>
            </div>

            <div class="nav-link" id="hamburger-menu-toggle">
                <span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
                <a>
                    <span data-feather="menu"></span>
                </a>
            </div>

            
            <ul class="nav-hamburger-list visibility-hidden">
                
                <li class="nav-item">
                    <a href="http://localhost:1313/" > Home </a>
                </li>
                
                <li class="nav-item">
                    <a href="http://localhost:1313/posts/" > Posts </a>
                </li>
                
                <li class="nav-item">
                    <a href="http://localhost:1313/projects/" > Projects </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://followtheprocess.github.io/cv/" > CV </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://github.com/FollowTheProcess/" ><span data-feather='github'></span>  </a>
                </li>
                
                <li class="nav-item dark-theme-toggle">
                    <span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
                    <a>
                        <span class="theme-toggle-icon" data-feather="moon"></span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>
</header>
<main id="content">
    

    <div class="post container">

    <div class="post-header-section">
        <h1>msg</h1>
    </div>

    <div class="post-content">
        <img src="/images/projects/msg/logo.png" alt="logo" class="img-responsive" width=50% height=50%>
<p><em>&#x1f680; A lightweight console printing toolkit for Go CLIs.</em></p>
<ul>
<li>
<p><strong>Source Code</strong>: <a href="https://github.com/FollowTheProcess/msg/">https://github.com/FollowTheProcess/msg</a></p>
</li>
<li>
<p>Free software: MIT License</p>
</li>
</ul>
<h2 id="project-description">Project Description</h2>
<p>Who else is bored with boring grey text in CLIs? &#x1f64b;</p>
<p>We all have fancy terminals, utf-8 is everywhere, no one is still using the stock windows command prompt any more&hellip; are they? &#x1f928;</p>
<p>When writing <a href="https://github.com/FollowTheProcess/pytoil">pytoil</a> I discovered <a href="https://github.com/ines/wasabi">ines/wasabi</a> for this exact purpose and absolutely loved it immediately:</p>
<ul>
<li>No dependencies outside the python stdlib</li>
<li>Configurable if you want but the defaults look great</li>
<li>Super easy to use and doesn&rsquo;t get in the way of what your CLI is trying to do</li>
</ul>
<p>Then I started learning go and writing some CLIs I kept wishing I had it there too.</p>
<p>So here it is (mostly) &#x1f389;</p>
<p>I did cheat on the &ldquo;no dependencies&rdquo; thing, full credit goes to <a href="https://github.com/fatih/color">fatih/color</a> for handling all the difficult colouring stuff for me and to <a href="https://github.com/ines/wasabi">ines/wasabi</a> for the API design.</p>
<p><img src="https://github.com/FollowTheProcess/msg/raw/main/img/demo.png" alt="demo"></p>
<h2 id="installation">Installation</h2>
<p>To use <code>msg</code> in your code:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>go get github.com/FollowTheProcess/msg@latest
</span></span></code></pre></div><h2 id="quickstart">Quickstart</h2>
<p>The quickest way to get started is to use the top level functions that come pre-configured with colors and symbols:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#ff7b72">package</span> main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">import</span> <span style="color:#a5d6ff">&#34;github.com/FollowTheProcess/msg&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">func</span> <span style="color:#d2a8ff;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>    msg.<span style="color:#d2a8ff;font-weight:bold">Title</span>(<span style="color:#a5d6ff">&#34;Your Title here&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// Do some stuff
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// Give the user an update
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    msg.<span style="color:#d2a8ff;font-weight:bold">Info</span>(<span style="color:#a5d6ff">&#34;Getting your files&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// Report success
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    msg.<span style="color:#d2a8ff;font-weight:bold">Good</span>(<span style="color:#a5d6ff">&#34;It worked!&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// Uh oh, an error
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    msg.<span style="color:#d2a8ff;font-weight:bold">Fail</span>(<span style="color:#a5d6ff">&#34;Oh no!, file not found&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// Warn a user about something
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    msg.<span style="color:#d2a8ff;font-weight:bold">Warn</span>(<span style="color:#a5d6ff">&#34;This action is irreversible&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This will get you something that looks like this:</p>
<p><img src="https://github.com/FollowTheProcess/msg/raw/main/img/demo2.png" alt="demo2"></p>
<p>Not bad! &#x1f680;</p>
<h2 id="user-guide">User Guide</h2>
<p><code>msg</code> has 5 types of output:</p>
<ul>
<li><strong>Title</strong> - Section header for a block of output</li>
<li><strong>Info</strong> - General info, status updates etc.</li>
<li><strong>Good</strong> - To report successful completion of something</li>
<li><strong>Warn</strong> - Warn the user about something</li>
<li><strong>Fail</strong> - Tell the user there has been a failure of some kind</li>
<li><strong>Text</strong> - General purpose normal text</li>
</ul>
<p>All of them have a single newline appended to the end except <code>Title</code> that has a newline before and 2 newlines after, to create separation both from the command you&rsquo;ve just run, and from what follows after. You can see how the <code>Your Title here</code> is spaced in the example above.</p>
<h3 id="print-verbs">Print Verbs</h3>
<p><code>msg</code> follow Go&rsquo;s lead when it comes to print verbs (think <code>Printf</code>, <code>Sprintf</code>, <code>Fprintf</code> etc.). As such, each of the 5 output types has these methods available (except they have weird names like <code>Sinfof</code>, but that&rsquo;s part of the fun.)</p>
<p>For example, let&rsquo;s take the <code>Warn</code> message which is the yellow one with the &#x26a0;&#xfe0f; above:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#ff7b72">package</span> main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">import</span> <span style="color:#a5d6ff">&#34;github.com/FollowTheProcess/msg&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">func</span> <span style="color:#d2a8ff;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// The &#34;normal&#34; one -&gt; fmt.Println
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    msg.<span style="color:#d2a8ff;font-weight:bold">Warn</span>(<span style="color:#a5d6ff">&#34;I&#39;m a Warning&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// When you want to inject some variables -&gt; fmt.Printf
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    <span style="color:#8b949e;font-style:italic">// Note: you don&#39;t have to put the &#39;\n&#39; at the end, we do that for you
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    file <span style="color:#ff7b72;font-weight:bold">:=</span> <span style="color:#a5d6ff">&#34;msg.go&#34;</span>
</span></span><span style="display:flex;"><span>    msg.<span style="color:#d2a8ff;font-weight:bold">Warnf</span>(<span style="color:#a5d6ff">&#34;File: %s not found&#34;</span>, file)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// When you want the string back to use elsewhere -&gt; fmt.Sprint
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    <span style="color:#8b949e;font-style:italic">// this will strip any newlines and trailing/leading whitespace
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    s <span style="color:#ff7b72;font-weight:bold">:=</span> msg.<span style="color:#d2a8ff;font-weight:bold">Swarn</span>(<span style="color:#a5d6ff">&#34;I&#39;m a Warning string&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// But I want a string AND formatting -&gt; fmt.Sprintf
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    s <span style="color:#ff7b72;font-weight:bold">:=</span> msg.<span style="color:#d2a8ff;font-weight:bold">Swarnf</span>(<span style="color:#a5d6ff">&#34;Here&#39;s a warning string about: %s&#34;</span>, file)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The functions that return strings have all whitespace and newlines trimmed before returning so you&rsquo;ll get back just the raw colored string (and the symbol if you have one, more on this later)</p>
<p>There is no <code>Fwarnf</code> though, that&rsquo;s because where <code>msg</code> writes to is configured as part of the <code>Printer</code>. More on that down here &#x1f447;</p>
<h3 id="configuration">Configuration</h3>
<p>You can get pretty far with just what we&rsquo;ve seen up to now, especially if you agree with my choice of symbols and colors.</p>
<p>But I <em>know</em> that some of you want finer grained control than this. For you folks, you can instantiate your own <code>Printer</code> and have full control over the colors and symbols:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#ff7b72">package</span> main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">import</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#a5d6ff">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a5d6ff">&#34;github.com/FollowTheProcess/msg&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a5d6ff">&#34;github.com/fatih/color&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">func</span> <span style="color:#d2a8ff;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// Defaults shown
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    printer <span style="color:#ff7b72;font-weight:bold">:=</span> msg.Printer{
</span></span><span style="display:flex;"><span>        SymbolInfo:  <span style="color:#a5d6ff">&#34;ℹ&#34;</span>,
</span></span><span style="display:flex;"><span>        SymbolTitle: <span style="color:#a5d6ff">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        SymbolWarn:  <span style="color:#a5d6ff">&#34;⚠️&#34;</span>,
</span></span><span style="display:flex;"><span>        SymbolFail:  <span style="color:#a5d6ff">&#34;✘&#34;</span>,
</span></span><span style="display:flex;"><span>        SymbolGood:  <span style="color:#a5d6ff">&#34;✔&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8b949e;font-style:italic">// Any fg color from fatih/color will work here
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>        ColorInfo:  color.FgHiCyan,
</span></span><span style="display:flex;"><span>        ColorTitle: color.FgCyan,
</span></span><span style="display:flex;"><span>        ColorWarn:  color.FgYellow,
</span></span><span style="display:flex;"><span>        ColorFail:  color.FgRed,
</span></span><span style="display:flex;"><span>        ColorGood:  color.FgGreen,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8b949e;font-style:italic">// Mainly used for testing but you can set it if you want
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>        Out: os.Stdout,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// Now your printer is set up, just call the normal methods
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    <span style="color:#8b949e;font-style:italic">// all the same methods are available
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    printer.<span style="color:#d2a8ff;font-weight:bold">Warn</span>(<span style="color:#a5d6ff">&#34;Warning from my custom printer!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>But what if I change my mind half way through?</strong></p>
<p>That&rsquo;s cool, all of the fields in <code>Printer</code> are exported so you can just change them whenever you want:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// Code above omitted
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    printer.<span style="color:#d2a8ff;font-weight:bold">Info</span>(<span style="color:#a5d6ff">&#34;Old symbol&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b949e;font-style:italic">// I want a different symbol for Info for this section only
</span></span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"></span>    printer.SymbolInfo = <span style="color:#a5d6ff">&#34;🔎&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    printer.<span style="color:#d2a8ff;font-weight:bold">Info</span>(<span style="color:#a5d6ff">&#34;New symbol&#34;</span>)
</span></span></code></pre></div><p>And you&rsquo;ll get:</p>
<p><img src="https://github.com/FollowTheProcess/msg/raw/main/img/symbol.png" alt="symbol"></p>
<p>That&rsquo;s about all there is really &#x1f389;</p>
<p>I hope you enjoy it!</p>
<h2 id="contributing">Contributing</h2>
<h3 id="developing">Developing</h3>
<p><code>msg</code> is a very simple project and the goal of the project is to remain very simple in line with the good old unix philosophy:</p>
<blockquote>
<p>Write programs that do one thing and do it well.</p>
<p>Ken Thompson</p>
</blockquote>
<p>Contributions are very much welcomed but please keep this goal in mind &#x1f3af;</p>
<p><code>msg</code> is run as a fairly standard Go project:</p>
<ul>
<li>We use all the standard go tools (go test, go build etc.)</li>
<li>Linting is done with the help of <a href="https://golangci-lint.run">golangci-lint</a> (see docs for install help)</li>
<li>Testing helpers provided by the excellent <a href="https://github.com/matryer/is">matryer/is</a> package</li>
</ul>
<p>We use <a href="https://github.com/casey/just">just</a> as the command runner (mainly because makefiles make me ill, but also because it&rsquo;s great!)</p>
<h3 id="collaborating">Collaborating</h3>
<p>No hard and fast rules here but a few guidelines:</p>
<ul>
<li>Raise an issue before doing a load of work on a PR, saves everyone bother</li>
<li>If you add a feature, be sure to add tests to cover what you&rsquo;ve added</li>
<li>If you fix a bug, add a test that would have caught the bug you just squashed</li>
<li>Be nice &#x1f603;</li>
</ul>
<h3 id="credits">Credits</h3>
<p>This package was created with <a href="https://github.com/cookiecutter/cookiecutter">cookiecutter</a> and the <a href="https://github.com/FollowTheProcess/go_cookie">FollowTheProcess/go_cookie</a> project template.</p>

    </div>
    
    
</div>




        </main><footer class="footer">
    
    

    

    

        
            
        

        

        
        

        

    

    
        <span>&copy; 2024 Tom Fleet</span>
    

    <span>
        Made with &#10084;&#65039; using <a target="_blank" href="https://github.com/526avijitgupta/gokarna">Gokarna</a>
    </span>
</footer>
</body>
</html>
